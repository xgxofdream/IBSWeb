
<!DOCTYPE html>
<html lang="zh-cn">
<head>
<meta charset="UTF-8">
<title>註冊</title>
<link href="css/add.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript" src="js/jquery.min.js"></script>

</head>

<body>
<link rel="stylesheet" href="css/weui.css"> <!--this css is working -->
<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0">
 <!--BEGIN toast-->         
<div id="toast"   style="display: none;">
    <div class="weui_mask_transparent"></div>
    <div class="weui_toast">
        <i class="weui_icon_toast"></i>
        <p class="weui_toast_content" id="toasttext"></p>
    </div>
</div>
<!--end toast-->

 <!--BEGIN toast2 失败-->         
<div id="toast2"  style="display: none;" >
    <div class="weui_mask_transparent"></div>
    <div class="weui_toast">
        <i class="weui_icon_toast2"></i>
        <p class="weui_toast_content" id="toasttext2"></p>
    </div>
</div>
<!--end toast2 -->

<!-- loading toast -->
<div id="loadingToast" class="weui_loading_toast"  style="display: none;">
    <div class="weui_mask_transparent"></div>
    <div class="weui_toast">
        <div class="weui_loading">
            <div class="weui_loading_leaf weui_loading_leaf_0"></div>
            <div class="weui_loading_leaf weui_loading_leaf_1"></div>
            <div class="weui_loading_leaf weui_loading_leaf_2"></div>
            <div class="weui_loading_leaf weui_loading_leaf_3"></div>
            <div class="weui_loading_leaf weui_loading_leaf_4"></div>
            <div class="weui_loading_leaf weui_loading_leaf_5"></div>
            <div class="weui_loading_leaf weui_loading_leaf_6"></div>
            <div class="weui_loading_leaf weui_loading_leaf_7"></div>
            <div class="weui_loading_leaf weui_loading_leaf_8"></div>
            <div class="weui_loading_leaf weui_loading_leaf_9"></div>
            <div class="weui_loading_leaf weui_loading_leaf_10"></div>
            <div class="weui_loading_leaf weui_loading_leaf_11"></div>
        </div>
        <p class="weui_toast_content" id="loadingtext"></p>
    </div>
</div>
<!-- loading toast -->
<!--BEGIN dialog1-->
<div class="weui_dialog_confirm" id="dialog1"  style="display: none;">
    <div class="weui_mask"></div>
    <div class="weui_dialog">
        <div class="weui_dialog_hd"><strong class="weui_dialog_title" id='dialog1_title'></strong></div>
        <div class="weui_dialog_bd" id='dialog1_word'></div>
        <div class="weui_dialog_ft">
            <a href="javascript:;" class="weui_btn_dialog default" id='dialog1_url1'>取消</a>
            <a href="javascript:;" class="weui_btn_dialog primary" id='dialog1_url2'>确定</a>
        </div>
    </div>
</div>
<!--END dialog1-->
<!--BEGIN dialog2-->
<div class="weui_dialog_alert" id="dialog2" style="display: none;">
    <div class="weui_mask"></div>
    <div class="weui_dialog">
        <div class="weui_dialog_hd"><strong class="weui_dialog_title" id='dialog2_title'></strong></div>
        <div class="weui_dialog_bd" id='dialog2_word'></div>
        <div class="weui_dialog_ft">
            <a href="javascript:;" class="weui_btn_dialog primary" id='dialog2_url'>确定</a>
        </div>
    </div>
</div>
<!--END dialog2-->
<script type="text/javascript">
/*alertMessage('dialog2','购买数量为1,不能减少.','http://127.0.0.1/WehealthgeneWx/index.php/Store/','http://127.0.0.1/WehealthgeneWx/index.php/Store/');*/
function alertMessage(index,word,url,url2,title){
  
      switch(index){
        case "finish":{
            word=word||'已完成';
            $("#toasttext").html(word);
            $("#toast").show();

            setTimeout(function () {
                        $("#toast").hide();
                        if (url) {window.location.href=url;}
                    }, 2000);
          break;
        }
        case "fail":{
            word=word||'失败';
            $("#toasttext2").html(word);
            $("#toast2").show();

            setTimeout(function () {
                        $("#toast2").hide();
                        if (url) {window.location.href=url;}
                    }, 2000);
          break;
        }
        case "wait":{
            word=word||'数据处理中';

            $("#loadingtext").html(word);
            $("#loadingToast").show();   
        
          break;
        }
        case "dialog1":{
            word=word||'数据处理中';
            title=title||'提示';
            $("#dialog1_word").html(word);
            $("#dialog1_title").html(title);
            $("#dialog1_url1").attr("href",'javascript:window.location.href="'+url+'"');
            if (url) {$("#dialog1_url1").attr("href",'javascript:window.location.href="'+url+'"');} else{$("#dialog1_url1").attr("href","javascript:;");};
            if (url) {$("#dialog1_url2").attr("href",'javascript:window.location.href="'+url2+'"');} else{$("#dialog1_url2").attr("href","javascript:;");};
            $("#dialog1").show(); 
            $("#dialog1").find('.weui_btn_dialog').on('click', function () {
                        $("#dialog1").hide();
                    });  
        
          break;
        }
        case "dialog2":{
            word=word||'数据处理中';
            title=title||'提示';
            $("#dialog2_word").html(word);
            $("#dialog2_title").html(title);
            if (url) {$("#dialog2_url").attr("href",'javascript:window.location.href="'+url+'"');} else{$("#dialog2_url").attr("href","javascript:;");};
            $("#dialog2").show();  
            $("#dialog2").find('.weui_btn_dialog').on('click', function () {
                        $("#dialog2").hide();
                    }); 
        
          break;
        }

      }
    }
    function stopMessage(index,word){
      switch(index){
        case "finish":{
          $("#toast").hide();
          break;
        }
        case "wait":{
          $("#loadingToast").hide();     
          break;
        }
      }
    }
 
</script>
<div class="loginbox">
  <form method="post" name="submitMessage" action="reg.php" enctype="multipart/form-data">
    <div class="logopic">
      <img src="/HospitalInformation/Public/img/login_logo.png"  onclick="javascript:window.location.href='http://www.wehealthgene.com/HospitalInformation/index.php/Index/index'" />
    </div>
    <div class="newregist">
      註冊新用戶
    </div>
    <div>
      <input class="registerfiled" type="text"  name="user_phone" id="user_phone" placeholder="用户：请输入手机号码" >
    </div>
        <div class="getmass">
  <ul>

  
  </ul>
  </div>
    <div>
      <input class="registerfiled" type="password"  name="user_pass" id="user_pass"  placeholder="登录密码">
    </div>
    <div>
      <input class="registerfiled" type="password"  name="user_pass2" id="user_pass2"  placeholder="确认密码">
    </div>
     <div class="agree">
      <ul> 
        <li></li>
        <li><p><span>注册身份: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input style="background-color:#3CF;" type="radio" name="user_type" value="0" checked >普通 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input style="background-color:#3CF;" type="radio" name="user_type" value="1" >研究者</span></p></li>
        
      </ul>
    </div>
    <div class="agree">
      <ul> 
        <li><input style="background-color:#3CF;" type="checkbox" name="radiobutton" value="radiobutton" checked ></li>
        <li><p>我同意&nbsp;&nbsp;&nbsp;   <span>用戶協議</span></p></li>
        <a class="tologin" href="javascript:window.location.href='login.html'">已有賬號？</a>
      </ul>
    </div>
   
    <div class="registerbutn"  onclick="codeJudge()">
      註冊
    </div>
  </form>
</div>
</body>


 <script language="javascript">
 function codeJudge() {
  alertMessage('wait');
   var user_phone = $('#user_phone').val();
    var pass = $('#user_pass').val();
   var pass2 = $('#user_pass2').val();
   //var reg = /^1\d{10}$/;  //定义正则表达式
  if(pass&&user_phone&&pass2){
            if (pass==pass2) {
                 /*if (reg.exec(user_phone)) {*/
                      stopMessage('wait');
                      document.submitMessage.submit();
                /*  }else
                  {
                      stopMessage('wait');
                      alertMessage('fail','用户名为手机号码，请重新输入'); 

                  }*/
            }else
            {
                stopMessage('wait');
                alertMessage('fail','两次输入密码不匹配'); 

            } 
       
      }else
       {
          stopMessage('wait');
          alertMessage('fail','请输入完整信息'); 
       } 
 }
</script>



</html>
